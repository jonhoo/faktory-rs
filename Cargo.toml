[package]
name = "faktory"
version = "0.12.4"
authors = ["Jon Gjengset <jon@thesquareplanet.com>"]
edition = "2021"
license = "MIT OR Apache-2.0"

description = "API bindings for the language-agnostic Faktory work server"
repository = "https://github.com/jonhoo/faktory-rs.git"

keywords = ["faktory", "api-bindings", "work-server", "job-server"]
categories = ["api-bindings", "asynchronous", "network-programming"]

[features]
default = []
tls = ["tokio-rustls", "pin-project"]
binaries = ["clap"]
ent = []

[dependencies]
serde_json = "1.0"
serde_derive = "1.0"
serde = "1.0"
bufstream = "0.1"
sha2 = "0.10.0"
hostname = "0.3"
libc = "0.2"
rand = "0.8"
chrono = { version = "0.4", features = [
    "serde",
    "clock",
], default-features = false }
url = "2"
fnv = "1.0.5"
thiserror = "1.0.30"
derive_builder = "0.12.0"
tokio = { version = "1.35.1", features = [
    "io-util",
    "net",
    "rt",
    "time",
    "macros",
    "rt-multi-thread",
] }
async-trait = "0.1.77"

tokio-rustls = { version = "0.25.0", optional = true }
pin-project = { version = "1.1.4", optional = true }

clap = { version = "4.4.10", optional = true }

[dev-dependencies]
mockstream = "0.0.3"
tokio = { version = "1.35.1", features = ["rt", "macros"] }
tokio-test = "0.4.3"

[[bin]]
name = "loadtest"
path = "src/bin/loadtest.rs"
required-features = ["binaries"]

[package.metadata.docs.rs]
all-features = true
rustdoc-args = ["--cfg", "docsrs"]
